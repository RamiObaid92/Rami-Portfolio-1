(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();document.querySelectorAll(".nav-link").forEach(t=>{t.addEventListener("click",function(r){r.preventDefault();const n=document.querySelector(this.getAttribute("href"));n&&n.scrollIntoView({block:"start"})})});window.addEventListener("load",()=>{document.body.classList.add("loaded")});const l=new IntersectionObserver(t=>{t.forEach(r=>{r.isIntersecting&&(r.target.classList.add("fade-in"),l.unobserve(r.target))})},{threshold:.1});document.querySelectorAll(".hidden").forEach(t=>{l.observe(t)});const p="7f1d09672745a64fc16474a6667982e4",h="https://api.openweathermap.org/data/2.5/weather",u=document.querySelector(".weatherForm"),d=document.querySelector(".cityInput"),a=document.querySelector(".card");u.addEventListener("submit",async t=>{t.preventDefault();const r=d.value.trim();try{const n=await m(r);f(n)}catch(n){const c=a.querySelector(".text-danger");c&&c.remove();const e=document.createElement("p");e.classList.add("fs-5","mt-3","text-danger"),e.textContent="Invalid City, please insert correct City name!",a.appendChild(e),console.error(n)}d.value="",d.focus()});async function m(t){const r=await fetch(`${h}?q=${t}&units=metric&appid=${p}`);if(!r.ok)throw new Error("City not found");return await r.json()}function f(t){a.querySelectorAll("h2, p:not(.cityInput)").forEach(i=>i.remove());const n=document.createElement("h2");n.textContent=t.name;const c=document.createElement("p");c.classList.add("temp","fs-3"),c.textContent=`${Math.round(t.main.temp)}°C`;const e=document.createElement("p");e.classList.add("humidity","fs-3"),e.textContent=`Humidity: ${t.main.humidity}%`;const o=document.createElement("p");o.classList.add("weather-desc","fs-3","fst-italic"),o.textContent=t.weather[0].description.toLowerCase().replace(/(^\w|\s\w)/g,i=>i.toUpperCase());const s=document.createElement("p");s.classList.add("weather-emoji","display-3"),s.textContent=y(t.weather[0].main),a.replaceChildren(n,c,e,o,s,u)}function y(t){return{Clear:"☀️",Clouds:"☁️",Rain:"🌧️",Snow:"❄️",Thunderstorm:"⛈️",Drizzle:"🌦️",Fog:"🌫️",Mist:"🌫️"}[t]}document.addEventListener("DOMContentLoaded",async()=>{const t="Stockholm";try{const r=await m(t);f(r)}catch(r){console.error("Error loading default city:",r)}});
